# スポチャン家練アプリ

スポーツチャンバラ家練用の「不定期クラップ音＝相手攻撃合図」トレーニングアプリです。

**公開URL**: https://syunki0403.github.io/spochan/

## 特徴

- 📱 iPhone Safari 対応（Web Audio API 使用）
- ⏱️ 3 秒カウントダウン → レッスン開始
- 🔊 不定期クラップ音（3〜5 秒間隔のランダム）
- 📹 YouTube 動画埋め込み（令剣会のショート動画）
- ⏰ ドリフトしないタイマー（performance.now()ベース）

### 🎨 UX 心理学を活用した設計

[UX 心理学のベストプラクティス](https://www.shokasonjuku.com/ux-psychology)を参考に、以下の原則を実装：

1. **目標勾配効果** - 進捗バーで達成感を視覚化
2. **ユーザー歓喜効果** - レッスン完了時のお祝い演出
3. **フィードバックループ** - 音が鳴るときの視覚的合図（👏 パルスエフェクト）
4. **ゲーミフィケーション** - 統計カードで達成感を強化
5. **視覚的階層** - 重要な情報（残り時間、状態）を強調表示
6. **プログレッシブディスクロージャー** - 初回訪問時のみガイドを表示
7. **美的ユーザビリティ効果** - グラデーション、アニメーション、洗練されたデザイン

## メニュー一覧（全 21 メニュー / 5 カテゴリ）

### 📚 基礎練習（9 メニュー）

- すり足
- ステップ
- 足の股割り（ストレッチ）
- 抑え面の飛び込み
- 足引き面（カウンター基礎）
- しゃがみ避け
- 1足の距離を伸ばした打ち（掬い打ち）
- 1足のガード
- 抑え面からのカウンター

### 🦵 足打ち練習（2 メニュー）

- 扇足の交互打ち
- 面足1足ver.の交互打ち（1足踏み込み）

### ✋ 小手練習（3 メニュー）

- 出小手をやろう！
- 音の鳴りやすい打ち方とは？（小手）
- 小手引き面

### 🎭 フェイント練習（7 メニュー）

- 抑え面フェイントからの扇小手
- 下フェイントからの扇面
- 下上足打ち
- 面突きからの扇足
- 左フェイントからの掬い面
- 扇面フェイントからの掬い面
- 踏み込み後に軌道を変える

### ⚡ 連打練習（3 メニュー）

- 一足の連打（面足バージョン）
- 打ち込みダッシュ（扇打ち）
- 下フェイント→扇面→掬い足（フェイント兼・連打）

## 動画引用元

練習動画は **令剣会** の YouTube ショート動画を引用しています。

**令剣会 YouTube チャンネル**: https://www.youtube.com/@reikenkai

## セットアップ

### 1. パッケージのインストール

```bash
npm install
```

### 2. 開発サーバーの起動

```bash
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開きます。

### 3. 本番ビルド

```bash
npm run build
```

## GitHub Pages へのデプロイ

このリポジトリは GitHub Actions で自動デプロイされます。

1. `main` ブランチにプッシュ
2. GitHub Actions が自動でビルド＆デプロイ
3. https://syunki0403.github.io/spochan/ で公開

## ファイル構成

```
spochan/
├── app/
│   ├── layout.tsx          # ルートレイアウト
│   ├── page.tsx            # トップページ（メニュー一覧）
│   ├── globals.css         # グローバルスタイル
│   └── menu/
│       └── [id]/
│           └── page.tsx    # メニュー詳細ページ
├── components/
│   ├── MenuCard.tsx        # メニューカードコンポーネント
│   └── LessonPlayer.tsx    # レッスンプレイヤー（音・タイマー・UI）
├── lib/
│   ├── menus.ts            # メニューデータ定義
│   └── audio.ts            # Web Audio API（クラップ音合成）
├── .github/
│   └── workflows/
│       └── deploy.yml      # GitHub Pages 自動デプロイ
├── package.json
├── next.config.js
└── tsconfig.json
```

## 技術スタック

- **Next.js 15** (App Router)
- **React 19**
- **TypeScript**
- **Web Audio API** (クラップ音合成)
- **GitHub Pages** (静的ホスティング)

## 既知の制約

- **iPhone 画面ロック**: iOS では画面ロック中にタイマーが停止する可能性があります（Safari 仕様）
- **自動再生制限**: 音声は Start 押下後のユーザー操作を起点に再生されます（Safari 制限）
- **バックグラウンド動作**: アプリを別タブに切り替えると、ブラウザによってはタイマーの精度が低下する場合があります

## ライセンス

MIT License
